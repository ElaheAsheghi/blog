{% extends 'parent/base.html' %}
{% block title %}Post List{% endblock %}
{% block content %}
    <h1>Post List</h1>

    {% if category %}
        <h1>
            <a href="{% url 'blog:post_list' %}">
                لیست پست های {{ category }}
            </a>
        </h1>
    {% else %}
        <h1>
            <a href="{% url 'blog:post_list' %}">
                لیست همه پست ها
            </a>
        </h1>
    {% endif %}

    <ol style="--length: {{posts.count}}" role="list">
    {% for post in posts %}
    <li style="--i: {{forloop.counter}}">
    <h3>
        <a href="{{post.get_absolute_url}}">
            {{post.title}}
        </a>
    </h3>
    <p>
        {{post.description|truncatewords:4}}
    </p>
    
    <img src="{{ post.images.first.image_file.url }}" alt="{{ post.images.first.title }}">
  
    </li>
    {% endfor %}
    </ol>

<!-- category items -->
    <h1>
        دسته بندی پست ها
    </h1>
    <ul>
        <li>
            <a href="{% url 'blog:post_list_category' 'تکنولوژی' %}">تکنولوژی</a>
        </li>
        <li>
            <a href="{% url 'blog:post_list_category' 'علمی' %}">علمی</a>
        </li>
        <li>
            <a href="{% url 'blog:post_list_category' 'سایر' %}">سایر</a>
        </li>
        

    </ul>

    {% include "partials/pagination.html" with page=posts %}
{% endblock %}